<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Welcome - Big Goalz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet" />
  <style>
    body {
      background-image: url('https://media3.giphy.com/media/v1.Y2lkPTc5MGI3NjExaWd1Z3YweHBjemF0eHgzNGJhYjhhMmM4anEwb2RjYnNxZm43dThwcSZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/mOuBZlIUngSknHOhQy/giphy.gif');
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      background-attachment: fixed;
    }
    .fade-in {
      animation: fadeInUp 1s ease forwards;
      opacity: 0;
      transform: translateY(20px);
    }
    @keyframes fadeInUp {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .carousel-inner {
      max-height: 500px;
    }
    .carousel-inner img {
      object-fit: cover;
      height: 100%;
    }
    .carousel-caption {
      bottom: 70px;
    }
  </style>
</head>
<body>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary sticky-top">
    <div class="container">
      <a class="navbar-brand" href="/">Big Goalz</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarNav">
<ul class="navbar-nav ms-auto">

  <% if (user && user.role === 'admin') { %>
    <!-- Admin Panel Dropdown -->
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="adminDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Admin Panel
      </a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="adminDropdown">
        <li><a class="dropdown-item" href="/admindashboard">Admin Dashboard</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/manageGoals">Manage Goals</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/manageHabits">Manage Habits</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/manageUsers">Manage Users</a></li>
      </ul>
    </li>
  <% } %>

  <% if (user) { %>
    <!-- Account Dropdown -->
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="accountDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Account
      </a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="accountDropdown">
        <li><span class="dropdown-item-text">Welcome, <%= user.username %></span></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/logout">Logout</a></li>
      </ul>
    </li>

    <!-- User Panel Dropdown -->
    <li class="nav-item dropdown">
      <a class="nav-link dropdown-toggle" href="#" id="userDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        User Panel
      </a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
        <li><a class="dropdown-item" href="/addGoal">Add Goal</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/addHabit">Add Habit</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/items">Manage Goals & Habits</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/searchHabits">Search Habits</a></li>
        <li><hr class="dropdown-divider"></li>
        <li><a class="dropdown-item" href="/searchGoals">Search Goals</a></li>

      </ul>
    </li>
  <% } else { %>
    <!-- For non-logged-in users -->
    <li class="nav-item"><a class="nav-link" href="/login">Login</a></li>
    <li class="nav-item"><a class="nav-link" href="/register">Register</a></li>
  <% } %>

</ul>
      </div>
    </div>
  </nav>

  <!-- Header -->
  <header class="py-5 bg-transparent text-white shadow-sm">
    <div class="container text-center bg-white bg-opacity-75 p-2 rounded">
      <h1 class="display-4 text-primary fw-bold">Welcome to Big Goalz</h1>
      <p class="lead text-secondary"><b>Track your goals and build powerful habits to achieve success.</b></p>
      <% if (!user) { %>
        <a href="/register" class="btn btn-primary btn-lg me-2" data-bs-toggle="tooltip" title="Create a new account">Get Started</a>
        <a href="/login" class="btn btn-outline-primary btn-lg" data-bs-toggle="tooltip" title="Login to your account">Login</a>
      <% } else { %>
        <a href="/addgoal" class="btn btn-success btn-lg" data-bs-toggle="tooltip" title="Go to your dashboard">Add Goals</a>
        <a href="/addhabit" class="btn btn-success btn-lg" data-bs-toggle="tooltip" title="Go to your dashboard">Add Habits</a>
      <% } %>
    </div>
  </header>

  <!-- Carousel -->
  <div class="container mt-5 d-flex justify-content-center">
    <div id="featureCarousel" class="carousel slide w-100" style="max-width: 800px;" data-bs-ride="carousel">
      <div class="carousel-indicators">
        <button type="button" data-bs-target="#featureCarousel" data-bs-slide-to="0" class="active"></button>
        <button type="button" data-bs-target="#featureCarousel" data-bs-slide-to="1"></button>
      </div>
      <div class="carousel-inner rounded shadow">
        <div class="carousel-item active">
          <img src="https://images.unsplash.com/photo-1551836022-d5d88e9218df?auto=format&fit=crop&w=800&q=80" class="d-block w-100" alt="Goal Tracking" />
          <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
            <h5>Track Your Goals</h5>
            <p>Stay focused and hit your personal milestones.</p>
          </div>
        </div>
        <div class="carousel-item">
          <img src="https://images.unsplash.com/photo-1517245386807-bb43f82c33c4?auto=format&fit=crop&w=800&q=80" class="d-block w-100" alt="Habit Building" />
          <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
            <h5>Build Healthy Habits</h5>
            <p>Form good routines and stick to them with ease.</p>
          </div>
        </div>
      </div>
      <button class="carousel-control-prev" type="button" data-bs-target="#featureCarousel" data-bs-slide="prev">
        <span class="carousel-control-prev-icon"></span>
      </button>
      <button class="carousel-control-next" type="button" data-bs-target="#featureCarousel" data-bs-slide="next">
        <span class="carousel-control-next-icon"></span>
      </button>
    </div>
  </div>

  <!-- Features Section -->
  <section class="container my-5">
    <div class="row g-4 text-center">
      <div class="col-md-6 fade-in" style="animation-delay: 0.2s;">
        <div class="card h-100 border-primary shadow-sm">
          <div class="card-body">
            <i class="bi bi-clipboard-check display-1 text-primary mb-3"></i>
            <h5 class="card-title">Goal Tracking</h5>
            <p class="card-text">Set, monitor, and achieve your goals efficiently.</p>
          </div>
        </div>
      </div>
      <div class="col-md-6 fade-in" style="animation-delay: 0.4s;">
        <div class="card h-100 border-success shadow-sm">
          <div class="card-body">
            <i class="bi bi-list-task display-1 text-success mb-3"></i>
            <h5 class="card-title">Habit Management</h5>
            <p class="card-text">Stay consistent and build strong daily habits.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Modal -->
  <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="infoModalLabel">About Big Goalz</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body">
          <p>This CA2 project helps users manage their personal goals and habits through a secure, responsive web app built with Node.js, Express, MySQL, and Bootstrap.</p>
          <ul>
            <li>Secure login & registration</li>
            <li>Role-based access (Admin/User)</li>
            <li>Goal and habit management (CRUD)</li>
            <li>Responsive Bootstrap UI</li>
          </ul>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          <a href="/register" class="btn btn-primary">Register Now</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Learn More Button -->
  <div class="container text-center my-4">
    <button type="button" class="btn btn-info btn-lg" data-bs-toggle="modal" data-bs-target="#infoModal">
      Learn More
    </button>
  </div>

  <!-- Footer -->
  <footer class="bg-primary text-white text-center py-3">
    <div class="container">
      &copy; 2025 Big Goalz | Built for CA2 @ RP School of Infocomm
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    const tooltipList = [...tooltipTriggerList].map(el => new bootstrap.Tooltip(el));
  </script>

</body>
</html>




